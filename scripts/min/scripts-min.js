function convertToF(e){return tempF=1.8*e+32,tempF=tempF.toFixed(1)}function addZero(e){return 10>e&&(e="0"+e),e}function getWeather(e){function t(){$(d).fadeToggle().toggleClass("hidden"),$(a).fadeToggle().toggleClass("hidden"),$(r).fadeToggle().toggleClass("hidden"),$(l).fadeToggle().toggleClass("hidden")}temperature=e.main.temp,temperature=temperature.toFixed(1),cond=e.weather[0].description,convertToF(temperature);var d=document.getElementById("tempCen");d.innerHTML=temperature+"ºC";var a=document.getElementById("tempFar");a.innerHTML=tempF+"ºF";var o=document.getElementById("textCond");o.innerHTML=cond;var n=document.getElementById("btnConvert"),r=document.getElementById("unitButF"),l=document.getElementById("unitButC");n.onclick=t;var s=document.getElementById("imgCond");weatherId=e.weather[0].id,800===weatherId?($(s).removeClass(),$(s).addClass("clear icons"),$("body").removeClass(),$("body").addClass("bgClear bgImg")):weatherId>=200&&232>=weatherId?($(s).removeClass(),$(s).addClass("thunder icons"),$("body").removeClass(),$("body").addClass("bgThunder bgImg")):weatherId>=300&&321>=weatherId?($(s).removeClass(),$(s).addClass("drizzle icons"),$("body").removeClass(),$("body").addClass("bgDrizzle bgImg")):weatherId>=500&&531>=weatherId?($(s).removeClass(),$(s).addClass("rain icons"),$("body").removeClass(),$("body").addClass("bgRain bgImg")):weatherId>=600&&622>=weatherId?($(s).removeClass(),$(s).addClass("snow icons"),$("body").removeClass(),$("body").addClass("bgSnow bgImg")):weatherId>=701&&781>=weatherId?($(s).removeClass(),$(s).addClass("fog icons"),$("body").removeClass(),$("body").addClass("bgFog bgImg")):weatherId>=801&&804>=weatherId&&($(s).removeClass(),$(s).addClass("clouds icons"),$("body").removeClass(),$("body").addClass("bgClouds bgImg"))}function getLocation(e){latitude=e.lat,longitude=e.lon,city=e.city;var t=document.getElementById("cityTitle");t.innerHTML=city,$.getJSON("http://api.openweathermap.org/data/2.5/weather?lat="+latitude+"&lon="+longitude+"&units=metric&APPID=9dc1be590fc08a7d6b24934b74bfd339",getWeather)}function reloadPage(){window.location.reload()}var latitude,longitude,temperature,tempF,city,cond,weatherId,clock=new Date,time=document.getElementById("time"),hour=addZero(clock.getHours()),min=addZero(clock.getMinutes());time.innerHTML=hour+":"+min,$.getJSON("http://ip-api.com/json/?fields=city,lat,lon",getLocation);var btnReload=document.getElementById("btnReload");btnReload.onclick=reloadPage,$(".btn").mouseup(function(){$(this).blur()});